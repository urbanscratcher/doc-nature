---
sidebar_position: 4
---

# 4. 난수의 정규 분포

- 원숭이 수를 시뮬레이션 하는 경우, Monkey 객체를 1,000개 생성하고, 각 키를 200~300으로 설정 (원숭이 키는 200px ~ 300px라고 가정)

  ```js
  const h = random(200, 300);
  ```

- 그런데 군중이 많은 길에서 임의로 한 사람을 골라 키를 재면 이때의 임의성은 **`random()`** 이 생성하는 랜덤성과 다른데, 실제 사람의 키가 균등 분포가 아니기 때문임
- 평균적인 키를 가진 사람이 너무 크거나 작은 사람보다 훨씬 많음
- 따라서 자연을 모방하려면 원숭이의 키도 평균 키(250px)에 가까운 원숭이가 많아야 하고, 너무 크거나 작은 원숭이 수는 적어야 함

## 정규 분포

- 평균(mean)을 중심으로 모여있는 분포
  - 수학자 칼 프레드리히 가우스의 이름을 따 가우시안(Gaussian) 분포라고도 함
  - 프랑스에서는 피에르 시몬 라플라스의 이름을 따 라플라시안(Laplacian) 분포라고도 함
  - 정규 분포는 19C 두 수학자가 각자 동시에 연구한 분포
- 그래프로는 종 모양의 그래프가 나옴
- 종 모양의 곡선은 주어진 값의 확률적 평균($\mu$)과 표준 편차($\sigma$)를 이용한 수학적 함수로 그려짐

## 표준 편차

:::note[평균과 표준편차 계산]

- 시험에서 85, 82, 88, 86, 85, 93, 98, 40, 73, 83점을 받은 10명의 학생이 있다고 가정
- **평균**: $\frac{813}{10}=81.3$점
- **표준 편차**: 분산의 음이 아닌 제곱근으로, 각 점수와 평균을 뺀 값을 제곱해서 분산을 구하고, 분산의 평균을 구한 값이 루트를 씌움

| 점수 | 평균과의 차이       | 분산                |
| :--: | :------------------ | :------------------ |
| $85$ | $85 - 81.3 = 3.7$   | $(3.7)^2=13.69$     |
| $82$ | $82 - 81.3 = 0.7$   | $(0.7)^2=0.49$      |
| $88$ | $88 - 81.3 = 6.7$   | $(6.7)^2=44.89$     |
| $86$ | $86 - 81.3 = 4.7$   | $(4.7)^2=22.09$     |
| $85$ | $85 - 81.3 = 3.7$   | $(3.7)^2=13.69$     |
| $93$ | $93 - 81.3 = 11.7$  | $(11.7)^2=136.89$   |
| $98$ | $98 - 81.3 = 16.7$  | $(16.7)^2=278.89$   |
| $40$ | $40 - 81.3 = -41.3$ | $(-41.3)^2=1705.69$ |
| $73$ | $73 - 81.3 = -8.3$  | $(-8.3)^2=68.89$    |
| $83$ | $83 - 81.3 = 1.7$   | $(1.7)^2=2.89$      |
|      | 분산 합             | $2288.1$            |

- **분산 평균**: $228.81$
- **표준 편차**: $15.13$

:::

- 모집단이 주어지면, 해당 구성원의

  - 68%는 평균으로부터 1표준 편차($1\times\sigma$) 범위 내에 포함
  - 98%는 2표준 편차($2\times\sigma$) 범위 내에 포함
  - 99.7%는 3표준 편차($3\times\sigma$) 범위 내에 포함

- 원숭이 예제로 돌아가면
  - 표준 편차가 $5$px이라면 평균 $250$px을 기준으로 3표준 편차는 $3\times5=15$px
  - 0.3%의 원숭이만 키가 $250-15=235$px보다 작거나 $250+15=275$px보다 클 것임

### randomGaussian()

- **`randomGaussian()`** : 평균이 $0$이고 표준 편차가 $1$인 임의의 양수와 음수의 정규 분포를 반환하는 p5js 함수 (표준 정규 분포)

```js
function draw() {
  const num = randomGaussian();
}
```

#### 도형의 x 위치를 할당하는 경우

- 평균이 320px이고 표준 편차가 60px인 정규 분포를 사용하여 x위치를 무작위로 할당한다고 가정
- 함수에 2개의 매개변수(평균, 표준편차)를 전달

```js
function draw() {
  const x = randomGaussian(320, 60);
  // const x = 60 * randomGaussian() + 320 과 동일

  noStroke();
  fill(0, 10);
  circle(x, 120, 16);
}
```

### 예제 코드 0.4: 가우시안 분포

  <iframe class="editor" src="https://editor.p5js.org/urbanscratcher/full/_jZJO5nTb"></iframe>

:::info[연습문제 0.4]

색상이 있는 점을 많이 사용해 흩뿌려진 물감을 시뮬레이션 하는 경우, 점 대부분은 중심에 가깝게 찍히고, 일부 점만 외곽에 찍히도록 만들어 보기. 점 색상을 선택할 때도 정규 분포를 이용해 보기.

- 아래 코드에서는 클릭시 100개의 물감이 흩뿌려짐
<iframe class="editor" src="https://editor.p5js.org/urbanscratcher/full/R3eXaveI9"></iframe>
:::

:::info[연습문제 0.5]
스텝 크기를 생성할 때 정규 분포를 사용한 랜덤 워크 가우시안 랜덤 워크라고 부르는데, 이를 구현해 보기

```js
step() {
  const xStep = randomGaussian(0, 0.5);
  const yStep = randomGaussian(0.1, 0.1);

  this.x += xStep;
  this.y += yStep;
}
```

<iframe class="editor" src="https://editor.p5js.org/urbanscratcher/full/LHqHIplF2"></iframe>
:::
